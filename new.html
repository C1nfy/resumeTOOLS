<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™ºèƒ½ç®€å†ç”Ÿæˆå™¨</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: "Microsoft YaHei", Arial, sans-serif; background: #f0f2f5; padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; display: grid; grid-template-columns: 550px 1fr; gap: 20px; }
        .form-panel { background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); height: fit-content; position: sticky; top: 20px; max-height: calc(100vh - 40px); overflow-y: auto; }
        .preview-panel { background: white; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h2 { color: #333; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #607052; }
        .form-section { margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid #eee; }
        .form-section:last-child { border-bottom: none; }
        .form-section h3 { color: #607052; margin-bottom: 15px; font-size: 16px; }
        .form-group { margin-bottom: 12px; }
        .form-group label { display: block; margin-bottom: 5px; color: #555; font-size: 14px; font-weight: 500; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; font-family: inherit; }
        .form-group textarea { resize: vertical; min-height: 60px; }
        .color-group { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .color-input { display: flex; gap: 10px; align-items: center; }
        .color-input input[type="color"] { width: 50px; height: 35px; border: none; border-radius: 4px; cursor: pointer; }
        .color-input input[type="text"] { flex: 1; }
        .btn { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: 500; transition: all 0.3s; }
        .btn-primary { background: #607052; color: white; }
        .btn-primary:hover { background: #4d5a42; }
        .btn-secondary { background: #A9B488; color: white; margin-left: 10px; }
        .btn-secondary:hover { background: #8a9470; }
        .btn-add { background: #B99471; color: white; width: 100%; margin-top: 10px; }
        .btn-add:hover { background: #9a7a5d; }
        .btn-remove { background: #dc3545; color: white; padding: 5px 10px; font-size: 12px; }
        .btn-remove:hover { background: #c82333; }
        .dynamic-item { background: #f8f9fa; padding: 15px; border-radius: 6px; margin-bottom: 15px; position: relative; border: 1px solid #e9ecef; }
        .dynamic-item .item-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid #dee2e6; }
        .dynamic-item .item-header h4 { color: #607052; font-size: 15px; margin: 0; }
        .button-group { display: flex; gap: 10px; margin-top: 20px; }
        .nested-item { background: white; padding: 12px; border-radius: 4px; margin-bottom: 10px; border: 1px solid #dee2e6; }
        .list-input-group { margin-bottom: 10px; }
        .list-input-item { display: flex; gap: 5px; margin-bottom: 5px; }
        .list-input-item input { flex: 1; }
        .list-input-item button { padding: 8px 12px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; }
        .btn-add-small { background: #28a745; color: white; padding: 6px 12px; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; width: 100%; margin-top: 5px; }
        #resumePreview { min-height: 800px; }
        .checkbox-group { margin-top: 10px; }
        .checkbox-group label { display: flex; align-items: center; gap: 8px; font-weight: normal; cursor: pointer; }
        .checkbox-group input[type="checkbox"] { width: auto; }
        @media print {
            body { background: white; padding: 0; }
            .container { grid-template-columns: 1fr; }
            .form-panel { display: none; }
            .preview-panel { box-shadow: none; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="form-panel">
            <h2>ğŸ“ ç®€å†ç”Ÿæˆå™¨</h2>
            <span style="color:#9071b7;">author:æ™šæ™š</span><br><br>
            <div class="form-section">
                <h3>ğŸ¨ é…è‰²æ–¹æ¡ˆ</h3>
                <div class="color-group">
                    <div class="form-group"><label>ä¸»è‰²è°ƒ</label><div class="color-input"><input type="color" id="color1" value="#607052"><input type="text" id="color1Text" value="#607052"></div></div>
                    <div class="form-group"><label>è¾…åŠ©è‰²</label><div class="color-input"><input type="color" id="color2" value="#A9B488"><input type="text" id="color2Text" value="#A9B488"></div></div>
                    <div class="form-group"><label>èƒŒæ™¯è‰²</label><div class="color-input"><input type="color" id="color3" value="#FEFAE0"><input type="text" id="color3Text" value="#FEFAE0"></div></div>
                    <div class="form-group"><label>å¼ºè°ƒè‰²</label><div class="color-input"><input type="color" id="color4" value="#B99471"><input type="text" id="color4Text" value="#B99471"></div></div>
                </div>
            </div>
            <div class="form-section">
                <h3>ğŸ‘¤ åŸºæœ¬ä¿¡æ¯</h3>
                <div class="form-group"><label>å§“å</label><input type="text" id="name"></div>
                <div class="form-group"><label>èŒä½</label><input type="text" id="position"></div>
                <div class="form-group"><label>ç”µè¯</label><input type="text" id="phone"></div>
                <div class="form-group"><label>é‚®ç®±</label><input type="text" id="email"></div>
                <div class="form-group"><label>å·¥ä½œå¹´é™</label><input type="text" id="workYears"></div>
                <div class="form-group"><label>å­¦å†</label><input type="text" id="education"></div>
            </div>
            <div class="form-section">
                <h3>ğŸ’ª æ ¸å¿ƒæŠ€èƒ½</h3>
                <div id="skillsContainer"></div>
                <button class="btn btn-add" onclick="addSkillCategory()">+ æ·»åŠ æŠ€èƒ½</button>
            </div>
            <div class="form-section">
                <h3>ğŸ’¼ å·¥ä½œç»å†</h3>
                <div id="experienceContainer"></div>
                <button class="btn btn-add" onclick="addExperience()">+ æ·»åŠ ç»å†</button>
            </div>
            <div class="form-section">
                <h3>ğŸ“ æ•™è‚²èƒŒæ™¯</h3>
                <div class="form-group"><label>å­¦æ ¡</label><input type="text" id="school"></div>
                <div class="form-group"><label>å­¦å†</label><input type="text" id="degree"></div>
                <div class="form-group"><label>æ—¶é—´</label><input type="text" id="eduTime"></div>
            </div>
            <div class="form-section">
                <h3>ğŸ“œ è¯ä¹¦</h3>
                <div class="form-group"><textarea id="certificates"></textarea></div>
            </div>
            <div class="form-section">
                <h3>âœ¨ ä¸ªäººè¯„ä»·</h3>
                <div id="summaryContainer"></div>
                <button class="btn btn-add" onclick="addSummary()">+ æ·»åŠ è¯„ä»·</button>
            </div>
            <div class="button-group">
                <button class="btn btn-primary" onclick="generateResume()">ç”Ÿæˆç®€å†</button>
                <button class="btn btn-secondary" onclick="window.print()">æ‰“å°ç®€å†</button>
            </div>
        </div>
        <div class="preview-panel" id="resumePreview">
            <div style="padding: 40px; text-align: center; color: #999;">ç‚¹å‡»"ç”Ÿæˆç®€å†"é¢„è§ˆ</div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script>
        let skillCategories=[],experiences=[],summaries=[];['color1','color2','color3','color4'].forEach(id=>{const c=document.getElementById(id),t=document.getElementById(id+'Text');c.addEventListener('input',e=>t.value=e.target.value);t.addEventListener('input',e=>{if(/^#[0-9A-F]{6}$/i.test(e.target.value))c.value=e.target.value})});function addSkillCategory(){skillCategories.push({id:Date.now(),category:'',skills:[]});renderSkills()}function renderSkills(){document.getElementById('skillsContainer').innerHTML=skillCategories.map((cat,i)=>`<div class="dynamic-item"><div class="item-header"><h4>æŠ€èƒ½${i+1}</h4><button class="btn btn-remove" onclick="removeSkillCategory(${cat.id})">åˆ é™¤</button></div><div class="form-group"><input type="text" value="${cat.category}" onchange="skillCategories[${i}].category=this.value" placeholder="ç±»åˆ«å"></div><div class="list-input-group">${cat.skills.map((s,j)=>`<div class="list-input-item"><input value="${s.name}" onchange="skillCategories[${i}].skills[${j}].name=this.value" style="flex:0.3"><input value="${s.desc}" onchange="skillCategories[${i}].skills[${j}].desc=this.value"><button onclick="removeSkill(${i},${j});renderSkills()">åˆ é™¤</button></div>`).join('')}<button class="btn-add-small" onclick="addSkill(${i})">+ æŠ€èƒ½</button></div></div>`).join('')}function addSkill(i){skillCategories[i].skills.push({name:'',desc:''});renderSkills()}function removeSkill(i,j){skillCategories[i].skills.splice(j,1)}function removeSkillCategory(id){skillCategories=skillCategories.filter(c=>c.id!==id);renderSkills()}function addExperience(){experiences.push({id:Date.now(),company:'',position:'',duration:'',projects:[]});renderExperiences()}function renderExperiences(){document.getElementById('experienceContainer').innerHTML=experiences.map((exp,i)=>`<div class="dynamic-item"><div class="item-header"><h4>ç»å†${i+1}</h4><button class="btn btn-remove" onclick="removeExperience(${exp.id})">åˆ é™¤</button></div><div class="form-group"><input value="${exp.company}" onchange="experiences[${i}].company=this.value" placeholder="å…¬å¸"></div><div class="form-group"><input value="${exp.position}" onchange="experiences[${i}].position=this.value" placeholder="èŒä½"></div><div class="form-group"><input value="${exp.duration}" onchange="experiences[${i}].duration=this.value" placeholder="æ—¶é—´"></div><div>${exp.projects.map((p,j)=>`<div class="nested-item"><div class="item-header"><h4>é¡¹ç›®${j+1}</h4><button class="btn btn-remove" onclick="removeProject(${i},${j})">åˆ é™¤</button></div><div class="form-group"><input value="${p.name}" onchange="experiences[${i}].projects[${j}].name=this.value" placeholder="é¡¹ç›®å"></div><div class="form-group"><input value="${p.type}" onchange="experiences[${i}].projects[${j}].type=this.value" placeholder="ç±»å‹"></div><div class="form-group"><textarea onchange="experiences[${i}].projects[${j}].business=this.value" placeholder="ä¸šåŠ¡">${p.business}</textarea></div><div class="list-input-group">${p.duties.map((d,k)=>`<div class="list-input-item"><input value="${d}" onchange="experiences[${i}].projects[${j}].duties[${k}]=this.value"><button onclick="removeDuty(${i},${j},${k})">åˆ é™¤</button></div>`).join('')}<button class="btn-add-small" onclick="addDuty(${i},${j})">+ èŒè´£</button></div><div class="checkbox-group"><label><input type="checkbox" ${p.hasTechContribution?'checked':''} onchange="toggleTechContribution(${i},${j},this.checked)">æŠ€æœ¯è´¡çŒ®</label></div>${p.hasTechContribution?`<div>${p.techContributions.map((tc,l)=>`<div><div class="form-group"><input value="${tc.title}" onchange="experiences[${i}].projects[${j}].techContributions[${l}].title=this.value" placeholder="æ ‡é¢˜"></div><div class="list-input-group">${tc.items.map((it,m)=>`<div class="list-input-item"><input value="${it}" onchange="experiences[${i}].projects[${j}].techContributions[${l}].items[${m}]=this.value"><button onclick="removeTechItem(${i},${j},${l},${m})">åˆ é™¤</button></div>`).join('')}<button class="btn-add-small" onclick="addTechItem(${i},${j},${l})">+ è¯¦æƒ…</button></div><button class="btn btn-remove" onclick="removeTechContribution(${i},${j},${l})">åˆ é™¤è´¡çŒ®</button></div>`).join('')}<button class="btn-add-small" onclick="addTechContribution(${i},${j})">+ è´¡çŒ®</button></div>`:''}<div class="form-group"><textarea onchange="experiences[${i}].projects[${j}].achievement=this.value" placeholder="æˆæœ">${p.achievement}</textarea></div></div>`).join('')}<button class="btn-add-small" onclick="addProject(${i})">+ é¡¹ç›®</button></div></div>`).join('')}function addProject(i){experiences[i].projects.push({name:'',type:'',business:'',duties:[],hasTechContribution:false,techContributions:[],achievement:''});renderExperiences()}function removeProject(i,j){experiences[i].projects.splice(j,1);renderExperiences()}function addDuty(i,j){experiences[i].projects[j].duties.push('');renderExperiences()}function removeDuty(i,j,k){experiences[i].projects[j].duties.splice(k,1);renderExperiences()}function toggleTechContribution(i,j,c){experiences[i].projects[j].hasTechContribution=c;if(c&&!experiences[i].projects[j].techContributions.length)experiences[i].projects[j].techContributions.push({title:'',items:[]});renderExperiences()}function addTechContribution(i,j){experiences[i].projects[j].techContributions.push({title:'',items:[]});renderExperiences()}function removeTechContribution(i,j,l){experiences[i].projects[j].techContributions.splice(l,1);renderExperiences()}function addTechItem(i,j,l){experiences[i].projects[j].techContributions[l].items.push('');renderExperiences()}function removeTechItem(i,j,l,m){experiences[i].projects[j].techContributions[l].items.splice(m,1);renderExperiences()}function removeExperience(id){experiences=experiences.filter(e=>e.id!==id);renderExperiences()}function addSummary(){summaries.push({id:Date.now(),title:'',content:''});renderSummaries()}function renderSummaries(){document.getElementById('summaryContainer').innerHTML=summaries.map((s,i)=>`<div class="dynamic-item"><div class="item-header"><h4>è¯„ä»·${i+1}</h4><button class="btn btn-remove" onclick="removeSummary(${s.id})">åˆ é™¤</button></div><div class="form-group"><input value="${s.title}" onchange="summaries[${i}].title=this.value" placeholder="æ ‡é¢˜"></div><div class="form-group"><textarea onchange="summaries[${i}].content=this.value" placeholder="å†…å®¹">${s.content}</textarea></div></div>`).join('')}function removeSummary(id){summaries=summaries.filter(s=>s.id!==id);renderSummaries()}function generateResume(){const c={primary:document.getElementById('color1').value,secondary:document.getElementById('color2').value,background:document.getElementById('color3').value,accent:document.getElementById('color4').value},b={name:document.getElementById('name').value,position:document.getElementById('position').value,phone:document.getElementById('phone').value,email:document.getElementById('email').value,workYears:document.getElementById('workYears').value,education:document.getElementById('education').value},e={school:document.getElementById('school').value,degree:document.getElementById('degree').value,time:document.getElementById('eduTime').value},cert=document.getElementById('certificates').value;document.getElementById('resumePreview').innerHTML=`<!DOCTYPE html><html><head><meta charset="UTF-8"><title>${b.name}-ç®€å†</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:"Microsoft YaHei",Arial,sans-serif;line-height:1.6;color:#333;background:#f5f5f5;padding:20px}.resume-container{max-width:900px;margin:0 auto;background:white;box-shadow:0 0 10px rgba(0,0,0,0.08)}.header{background:linear-gradient(135deg,${c.primary}dd 0%,${c.secondary}dd 100%);color:white;padding:35px 40px;text-align:center;-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important;color-adjust:exact!important}.header h1{font-size:34px;margin-bottom:8px}.header .job-title{font-size:19px;margin-bottom:15px}.contact-info{display:flex;justify-content:center;flex-wrap:wrap;gap:15px;font-size:14px}.contact-item{display:flex;align-items:center;gap:5px}.content{padding:35px 40px}.section{margin-bottom:30px}.section-title{font-size:22px;color:${c.primary}e6;border-bottom:2px solid ${c.secondary}99;padding-bottom:8px;margin-bottom:20px;font-weight:bold}.skill-category{margin-bottom:12px}.skill-category-title{font-weight:bold;color:${c.primary}dd;margin-bottom:8px;font-size:16px}.skill-list{padding-left:20px;color:#374151}.skill-list li{margin-bottom:7px;line-height:1.8;font-size:15px}.experience-item{margin-bottom:25px;padding:22px;border:1px solid ${c.background}cc;background:${c.background}66;page-break-inside:auto;-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important;color-adjust:exact!important}.experience-header{display:flex;justify-content:space-between;align-items:baseline;margin-bottom:14px;padding-bottom:12px;border-bottom:1px solid ${c.secondary}80;page-break-after:avoid}.company-name{font-size:18px;font-weight:bold;color:${c.primary}e6}.job-position{color:${c.secondary}dd;font-weight:600}.duration{color:#6b7280;font-size:14px;white-space:nowrap}.project-name{font-weight:bold;color:${c.primary}dd;margin:14px 0 10px 0;font-size:16px;page-break-after:avoid}.project-info{margin-bottom:12px;color:#374151;line-height:1.7;font-size:15px}.responsibility-list{padding-left:20px;color:#374151}.responsibility-list li{margin-bottom:8px;line-height:1.7;font-size:15px;page-break-inside:avoid}.tech-stack{display:inline-block;background:${c.background}99;color:${c.primary}dd;padding:3px 10px;border-radius:4px;font-size:13px;margin:2px;border:1px solid ${c.secondary}80;-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important}.achievement{background:${c.background}80;padding:12px;border-left:3px solid ${c.accent}99;margin:12px 0;font-size:15px;color:#374151;page-break-inside:avoid;-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important}.education{display:flex;justify-content:space-between;padding:8px 0}.summary-section{background:${c.background}66;padding:20px;border:1px solid ${c.background}cc;-webkit-print-color-adjust:exact!important;print-color-adjust:exact!important}.summary-item{margin-bottom:12px;padding-left:18px;position:relative;color:#374151;line-height:1.8;font-size:15px}.summary-item:before{content:"â—†";position:absolute;left:0;color:${c.secondary}b3}@media print{body{background:white;padding:0}.resume-container{box-shadow:none;max-width:100%}.header{page-break-after:avoid}.section{page-break-inside:auto;margin-bottom:20px}.content{padding:20px 30px}}</style></head><body><div class="resume-container"><div class="header"><h1>${b.name}</h1><div class="job-title">${b.position}</div><div class="contact-info"><div class="contact-item">ğŸ“± ${b.phone}</div><div class="contact-item">ğŸ“§ ${b.email}</div><div class="contact-item">ğŸ’¼ ${b.workYears}</div><div class="contact-item">ğŸ“ ${b.education}</div></div></div><div class="content">${skillCategories.length?`<div class="section"><h2 class="section-title">æ ¸å¿ƒæŠ€èƒ½</h2>${skillCategories.map(cat=>`<div class="skill-category"><div class="skill-category-title">${cat.category}</div><ul class="skill-list">${cat.skills.filter(s=>s.name&&s.desc).map(s=>`<li><strong>${s.name}:</strong>${s.desc}</li>`).join('')}</ul></div>`).join('')}</div>`:''}${experiences.length?`<div class="section"><h2 class="section-title">å·¥ä½œç»å†</h2>${experiences.map(exp=>`<div class="experience-item"><div class="experience-header"><div><span class="company-name">${exp.company}</span><span class="job-position"> | ${exp.position}</span></div><span class="duration">${exp.duration}</span></div>${exp.projects.map(p=>`${p.name?`<div class="project-name">${p.name}</div>`:''}${p.type||p.business?`<div class="project-info">${p.type?`<strong>é¡¹ç›®ç±»å‹:</strong>${p.type}<br>`:''}${p.business?`<strong>è´Ÿè´£ä¸šåŠ¡:</strong>${p.business}`:''}</div>`:''}${p.duties.filter(d=>d).length?`<div style="margin-top:10px"><strong>å·¥ä½œèŒè´£:</strong></div><ul class="responsibility-list">${p.duties.filter(d=>d).map(d=>`<li>${d}</li>`).join('')}</ul>`:''}${p.hasTechContribution&&p.techContributions.length?`<div style="margin-top:15px"><strong>ğŸ› ï¸ æŠ€æœ¯è´¡çŒ®</strong></div>${p.techContributions.map((tc,i)=>`${tc.title?`<p style="margin:${i===0?'10px':'15px'} 0 10px 0;font-weight:bold">${i+1}. ${tc.title}</p>`:''}${tc.items.filter(it=>it).length?`<ul class="responsibility-list">${tc.items.filter(it=>it).map(it=>`<li>${it}</li>`).join('')}</ul>`:''}`).join('')}`:''} ${p.achievement?`<div class="achievement">ğŸ“Š é¡¹ç›®æˆæœ:${p.achievement}</div>`:''}`).join('')}</div>`).join('')}</div>`:''}  <div class="section"><h2 class="section-title">æ•™è‚²èƒŒæ™¯</h2><div class="education"><div><strong>${e.school}</strong> | ${e.degree}</div><div class="duration">${e.time}</div></div></div><div class="section"><h2 class="section-title">ä¸“ä¸šè¯ä¹¦</h2><p style="color:#4a5568">${cert}</p></div>${summaries.length?`<div class="section"><h2 class="section-title">ä¸ªäººè¯„ä»·</h2><div class="summary-section">${summaries.filter(s=>s.title&&s.content).map(s=>`<div class="summary-item"><strong>${s.title}:</strong>${s.content}</div>`).join('')}</div></div>`:''}</div></div></body></html>`}
    </script>
</body>
</html>